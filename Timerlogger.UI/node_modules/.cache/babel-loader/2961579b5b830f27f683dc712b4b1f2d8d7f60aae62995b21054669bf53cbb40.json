{"ast":null,"code":"var _jsxFileName = \"/Users/brunofaria/Documents/Projects/Visma/bruno/Timerlogger.UI/src/app/components/projects/FormProjects.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { editProject, postProject } from \"../../api/projects\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function FormProjects(props) {\n  _s();\n  const [timerPerWeek, setTimerPerWeek] = useState(props.isEdit ? props.project.timePerWeek : \"\");\n  const [deadLine, setDeadLine] = useState(props.isEdit ? props.project.deadLine : \"\");\n  const [projectName, setProjectName] = useState(props.isEdit ? props.project.name : \"\");\n  const [isCompleted, setIsCompleted] = useState(props.isEdit ? props.project.isCompleted : \"\");\n  const [isSending, setIsSending] = useState(false);\n  const isMounted = useRef(true);\n\n  // set isMounted to false when we unmount the component\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  const createProject = useCallback(async () => {\n    if (isSending) return;\n    setIsSending(true);\n    await postProject(projectName, new Date(deadLine), Number(timerPerWeek));\n    if (isMounted.current) setIsSending(false);\n  }, [isSending]);\n  const updateProject = async () => {\n    return await editProject(props.isEdit ? props.project.id : \"\", projectName, new Date(deadLine), Number(timerPerWeek), isCompleted).then(res => res.json()).then(data => {\n      props.response(data);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            placeholder: \"Enter Project Name\",\n            onChange: e => setProjectName(e.target.value),\n            value: projectName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Time per Week \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"(\", timerPerWeek == null || timerPerWeek == \"\" ? 0 : timerPerWeek, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            className: \"custom-range\",\n            min: \"0\",\n            max: \"8\",\n            id: \"rangeInput\",\n            onChange: e => setTimerPerWeek(e.target.value),\n            value: timerPerWeek == null || timerPerWeek == \"\" ? 0 : timerPerWeek\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Deadline Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            className: \"form-control\",\n            min: new Date().toLocaleDateString(\"en-CA\"),\n            onChange: e => setDeadLine(e.target.value),\n            defaultValue: new Date(deadLine).toLocaleDateString(\"en-CA\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), props.isEdit ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Mark as Completed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-check\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-check-input\",\n              type: \"checkbox\",\n              onChange: e => setIsCompleted(e.target.value),\n              value: isCompleted\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: props.isEdit ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => updateProject(),\n            type: \"button\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            type: \"button\",\n            onClick: () => createProject(),\n            children: \"Create\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(FormProjects, \"cnSb6XUDn1oiwojvu0WzvYF7bis=\");\n_c = FormProjects;\nvar _c;\n$RefreshReg$(_c, \"FormProjects\");","map":{"version":3,"names":["React","useCallback","useEffect","useRef","useState","editProject","postProject","jsxDEV","_jsxDEV","Fragment","_Fragment","FormProjects","props","_s","timerPerWeek","setTimerPerWeek","isEdit","project","timePerWeek","deadLine","setDeadLine","projectName","setProjectName","name","isCompleted","setIsCompleted","isSending","setIsSending","isMounted","current","createProject","Date","Number","updateProject","id","then","res","json","data","response","children","className","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","e","target","value","type","min","max","toLocaleDateString","defaultValue","onClick","_c","$RefreshReg$"],"sources":["/Users/brunofaria/Documents/Projects/Visma/bruno/Timerlogger.UI/src/app/components/projects/FormProjects.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { editProject, postProject } from \"../../api/projects\";\n\nexport default function FormProjects(props: any) {\n  const [timerPerWeek, setTimerPerWeek] = useState(\n    props.isEdit ? props.project.timePerWeek : \"\"\n  );\n  const [deadLine, setDeadLine] = useState(\n    props.isEdit ? props.project.deadLine : \"\"\n  );\n  const [projectName, setProjectName] = useState(\n    props.isEdit ? props.project.name : \"\"\n  );\n  const [isCompleted, setIsCompleted] = useState(\n    props.isEdit ? props.project.isCompleted : \"\"\n  );\n\n  const [isSending, setIsSending] = useState(false);\n  const isMounted = useRef(true);\n\n  // set isMounted to false when we unmount the component\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const createProject = useCallback(async () => {\n    if (isSending) return;\n\n    setIsSending(true);\n\n    await postProject(projectName, new Date(deadLine), Number(timerPerWeek));\n\n    if (isMounted.current)\n      setIsSending(false);\n      \n  }, [isSending]); \n\n  const updateProject = async () => {\n    return await editProject(\n      props.isEdit ? props.project.id : \"\",\n      projectName,\n      new Date(deadLine),\n      Number(timerPerWeek),\n      isCompleted\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        props.response(data);\n      });\n  };\n\n  return (\n    <>\n      <form>\n        <div className=\"row\">\n          <div className=\"col-6\">\n            <label>Name</label>\n            <input\n              className=\"form-control\"\n              placeholder=\"Enter Project Name\"\n              onChange={(e) => setProjectName(e.target.value)}\n              value={projectName}\n            />\n          </div>\n          <div className=\"col-6\">\n            <label>Time per Week </label>\n            <span>\n              ({timerPerWeek == null || timerPerWeek == \"\" ? 0 : timerPerWeek})\n            </span>\n            <input\n              type=\"range\"\n              className=\"custom-range\"\n              min=\"0\"\n              max=\"8\"\n              id=\"rangeInput\"\n              onChange={(e) => setTimerPerWeek(e.target.value)}\n              value={\n                timerPerWeek == null || timerPerWeek == \"\" ? 0 : timerPerWeek\n              }\n            />\n          </div>\n        </div>\n        <br></br>\n        <div className=\"row\">\n          <div className=\"col-6\">\n            <label>Deadline Date</label>\n            <input\n              type=\"date\"\n              className=\"form-control\"\n              min={new Date().toLocaleDateString(\"en-CA\")}\n              onChange={(e) => setDeadLine(e.target.value)}\n              defaultValue={new Date(deadLine).toLocaleDateString(\"en-CA\")}\n            />\n          </div>\n          {props.isEdit ? (\n            <div className=\"col-6\">\n              <label>Mark as Completed</label>\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"checkbox\"\n                  onChange={(e) => setIsCompleted(e.target.value)}\n                  value={isCompleted}\n                />\n              </div>\n            </div>\n          ) : null}\n        </div>\n        <br></br>\n        <div className=\"row\">\n          <div className=\"form-group\">\n            {props.isEdit ? (\n              <button\n                className=\"btn btn-primary\"\n                onClick={() => updateProject()}\n                type=\"button\"\n              >\n                Update\n              </button>\n            ) : (\n              <button\n                className=\"btn btn-primary\"\n                type=\"button\"\n                onClick={() => createProject()}\n              >\n                Create\n              </button>\n            )}\n          </div>\n        </div>\n      </form>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}